/* Gmail Glass Extension - Glassmorphism Styling */
/* Author: Marco Birkedahl Jørgensen */
/* Modern frosted glass effect with vibrant colors */

/* ===========================
   Root Variables
   =========================== */
:root {
  /* Core glass */
  --glass-bg: rgba(255, 255, 255, 0.14);
  --glass-bg-hover: rgba(255, 255, 255, 0.22);
  --glass-border: rgba(255, 255, 255, 0.28);
  --glass-shadow: 0 16px 50px rgba(0, 0, 0, 0.16);
  --blur-amount: 18px;
  --border-radius: 12px;

  /* Vibrant accent colors (midway: colorful but not neon) */
  --accent-purple: rgba(170, 140, 204, 0.85);
  --accent-blue: rgba(100, 181, 246, 0.85);
  --accent-pink: rgba(240, 98, 146, 0.82);
  --accent-green: rgba(129, 199, 132, 0.82);
  --accent-orange: rgba(255, 167, 38, 0.82);
}

/* ===========================
   Base Gmail Container
   =========================== */
/* 
  Swirly “mesh” background:
  - Use multiple radial gradients for the soft blobs
  - Add a subtle conic gradient for swirl/rotation energy
  - Animate background-position slightly (very subtle)
*/
html,
body {
  background:
    radial-gradient(1200px 800px at 12% 18%, rgba(240, 98, 146, 0.28), transparent 60%),
    radial-gradient(1200px 800px at 82% 20%, rgba(100, 181, 246, 0.26), transparent 58%),
    radial-gradient(1200px 800px at 35% 92%, rgba(129, 199, 132, 0.22), transparent 62%),
    radial-gradient(900px 700px at 88% 80%, rgba(255, 167, 38, 0.18), transparent 62%),
    conic-gradient(from 210deg at 50% 50%, rgba(170, 140, 204, 0.14), rgba(100, 181, 246, 0.10), rgba(240, 98, 146, 0.10), rgba(255, 167, 38, 0.10), rgba(129, 199, 132, 0.10), rgba(170, 140, 204, 0.14));
  background-attachment: fixed !important;
  animation: gg-swirls 18s ease-in-out infinite alternate;
}

@keyframes gg-swirls {
  0% {
    background-position: 0% 0%, 100% 0%, 0% 100%, 100% 100%, 50% 50%;
  }
  100% {
    background-position: 6% 4%, 96% 8%, 8% 96%, 92% 92%, 50% 50%;
  }
}

/* Main content wrapper(s) */
.nH {
  background: transparent !important;
}

/* Gmail also has other high-level wrappers that can be opaque depending on layout */
.no,
.nH > .nH,
.nH .nH {
  background: transparent !important;
}

/* ===========================
   Generic “True Glass” Panels
   =========================== */
/* Apply the full glass recipe to major containers */
.bkL,
.ain,
.ae4.aDM,
.AO,
.nH.aHU,
.nH.if,
.aDh,
.M9,
.Kj-JD,
.dw,
.J-M,
.SK.AX,
.nH.nn,
.gb_Zd {
  background: var(--glass-bg) !important;
  backdrop-filter: blur(var(--blur-amount)) saturate(1.35) contrast(1.05) !important;
  -webkit-backdrop-filter: blur(var(--blur-amount)) saturate(1.35) contrast(1.05) !important;
  border: 1px solid var(--glass-border) !important;
  box-shadow: var(--glass-shadow) !important;
  border-radius: var(--border-radius) !important;
  position: relative !important;
  overflow: hidden !important;
}

/* Glass sheen / highlight */
.bkL::before,
.ain::before,
.ae4.aDM::before,
.AO::before,
.nH.aHU::before,
.nH.if::before,
.aDh::before,
.M9::before,
.Kj-JD::before,
.dw::before,
.J-M::before,
.SK.AX::before,
.nH.nn::before,
.gb_Zd::before {
  content: '' !important;
  position: absolute !important;
  inset: 0 !important;
  background: linear-gradient(
    120deg,
    rgba(255, 255, 255, 0.22),
    rgba(255, 255, 255, 0.06) 35%,
    rgba(255, 255, 255, 0.00) 60%
  ) !important;
  pointer-events: none !important;
}

/* ===========================
   Left Sidebar - Navigation
   =========================== */
/* Sidebar container */
.bkL,
.ain {
  border-right: 1px solid var(--glass-border) !important;
}

/* Compose button */
.T-I.T-I-KE.L3 {
  background: linear-gradient(135deg, var(--accent-purple), var(--accent-blue)) !important;
  backdrop-filter: blur(calc(var(--blur-amount) - 4px)) saturate(1.2) !important;
  -webkit-backdrop-filter: blur(calc(var(--blur-amount) - 4px)) saturate(1.2) !important;
  border: 1px solid rgba(255, 255, 255, 0.35) !important;
  border-radius: var(--border-radius) !important;
  box-shadow: 0 8px 26px rgba(100, 181, 246, 0.26) !important;
  color: white !important;
  font-weight: 600 !important;
  transition: transform 0.25s ease, box-shadow 0.25s ease, filter 0.25s ease !important;
}

.T-I.T-I-KE.L3:hover {
  box-shadow: 0 12px 36px rgba(100, 181, 246, 0.34) !important;
  transform: translateY(-2px) !important;
  filter: saturate(1.05) !important;
}

/* Navigation items */
.TN.bzz.aHS-bnt,
.TO.NQ,
.ain .TK {
  background: rgba(255, 255, 255, 0.09) !important;
  backdrop-filter: blur(12px) saturate(1.2) !important;
  -webkit-backdrop-filter: blur(12px) saturate(1.2) !important;
  border-radius: 10px !important;
  margin: 4px 8px !important;
  border: 1px solid rgba(255, 255, 255, 0.14) !important;
  transition: transform 0.2s ease, background 0.2s ease, box-shadow 0.2s ease !important;
}

.TN.bzz.aHS-bnt:hover,
.TO.NQ:hover,
.ain .TK:hover {
  background: rgba(255, 255, 255, 0.18) !important;
  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.10) !important;
  transform: translateX(4px) !important;
}

/* Active/selected navigation item */
.TN.bzz.aHS-bnt.nZ.aiq,
.TO.NQ.n3.aiq {
  background: linear-gradient(90deg, rgba(100, 181, 246, 0.55), rgba(170, 140, 204, 0.55)) !important;
  border: 1px solid rgba(255, 255, 255, 0.25) !important;
  box-shadow: 0 10px 26px rgba(100, 181, 246, 0.20) !important;
}

/* ===========================
   Email List View
   =========================== */
/* Email list container */
.ae4.aDM,
.AO {
  margin: 8px !important;
}

/* Individual email row */
.zA {
  background: rgba(255, 255, 255, 0.08) !important;
  backdrop-filter: blur(10px) saturate(1.15) !important;
  -webkit-backdrop-filter: blur(10px) saturate(1.15) !important;
  border-radius: 10px !important;
  border: 1px solid rgba(255, 255, 255, 0.12) !important;
  margin: 4px 8px !important;
  transition: transform 0.2s ease, background 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease !important;
}

.zA:hover {
  background: rgba(255, 255, 255, 0.16) !important;
  box-shadow: 0 10px 26px rgba(0, 0, 0, 0.10) !important;
  transform: translateY(-2px) !important;
  border-color: rgba(255, 255, 255, 0.20) !important;
}

/* Selected email */
.zA.x7 {
  background: linear-gradient(90deg, rgba(100, 181, 246, 0.20), rgba(170, 140, 204, 0.18)) !important;
  border: 1px solid rgba(100, 181, 246, 0.30) !important;
  box-shadow: 0 10px 26px rgba(100, 181, 246, 0.16) !important;
}

/* Unread email indicator */
.zE {
  font-weight: 650 !important;
}

.zA.zE {
  background: rgba(255, 255, 255, 0.14) !important;
  border-left: 3px solid rgba(100, 181, 246, 0.70) !important;
}

/* ===========================
   Email Reading Pane
   =========================== */
/* Email content area */
.adn,
.gs {
  background: rgba(255, 255, 255, 0.10) !important;
  backdrop-filter: blur(14px) saturate(1.2) !important;
  -webkit-backdrop-filter: blur(14px) saturate(1.2) !important;
  border-radius: 12px !important;
  padding: 16px !important;
  border: 1px solid rgba(255, 255, 255, 0.18) !important;
}

/* Email header */
.gE.iv.gt {
  background: rgba(255, 255, 255, 0.12) !important;
  backdrop-filter: blur(12px) saturate(1.2) !important;
  -webkit-backdrop-filter: blur(12px) saturate(1.2) !important;
  border-radius: 12px !important;
  padding: 12px !important;
  border: 1px solid rgba(255, 255, 255, 0.18) !important;
  margin-bottom: 12px !important;
}

/* ===========================
   Top Toolbar
   =========================== */
/* Top action buttons */
.G-Ni,
.aqJ,
.T-I {
  background: rgba(255, 255, 255, 0.10) !important;
  backdrop-filter: blur(10px) saturate(1.15) !important;
  -webkit-backdrop-filter: blur(10px) saturate(1.15) !important;
  border: 1px solid rgba(255, 255, 255, 0.18) !important;
  border-radius: 10px !important;
  transition: transform 0.2s ease, background 0.2s ease, box-shadow 0.2s ease !important;
}

.G-Ni:hover,
.aqJ:hover,
.T-I:hover {
  background: rgba(255, 255, 255, 0.18) !important;
  box-shadow: 0 8px 22px rgba(0, 0, 0, 0.10) !important;
  transform: translateY(-1px) !important;
}

/* ===========================
   Compose Window
   =========================== */
/* Compose window header */
.aDh .aYF,
.M9 .aYF {
  background: linear-gradient(135deg, rgba(170, 140, 204, 0.85), rgba(100, 181, 246, 0.85)) !important;
  backdrop-filter: blur(14px) saturate(1.2) !important;
  -webkit-backdrop-filter: blur(14px) saturate(1.2) !important;
  border-bottom: 1px solid rgba(255, 255, 255, 0.26) !important;
  border-radius: var(--border-radius) var(--border-radius) 0 0 !important;
}

/* Compose body */
.aDh .Am,
.M9 .Am {
  background: rgba(255, 255, 255, 0.08) !important;
  backdrop-filter: blur(12px) saturate(1.15) !important;
  -webkit-backdrop-filter: blur(12px) saturate(1.15) !important;
}

/* Send button */
.T-I.T-I-atl.L3 {
  background: linear-gradient(135deg, rgba(129, 199, 132, 0.85), rgba(100, 181, 246, 0.85)) !important;
  border: 1px solid rgba(255, 255, 255, 0.28) !important;
  border-radius: 10px !important;
  box-shadow: 0 10px 26px rgba(129, 199, 132, 0.20) !important;
  color: white !important;
  font-weight: 650 !important;
  transition: transform 0.25s ease, box-shadow 0.25s ease !important;
}

.T-I.T-I-atl.L3:hover {
  box-shadow: 0 14px 34px rgba(129, 199, 132, 0.28) !important;
  transform: translateY(-2px) !important;
}

/* ===========================
   Labels & Categories
   =========================== */
/* Label chips */
.ar.as,
.at {
  background: rgba(255, 255, 255, 0.14) !important;
  backdrop-filter: blur(10px) saturate(1.15) !important;
  -webkit-backdrop-filter: blur(10px) saturate(1.15) !important;
  border: 1px solid rgba(255, 255, 255, 0.20) !important;
  border-radius: 999px !important;
  padding: 4px 10px !important;
  transition: background 0.2s ease, box-shadow 0.2s ease !important;
}

.ar.as:hover,
.at:hover {
  background: rgba(255, 255, 255, 0.22) !important;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.10) !important;
}

/* Active category */
.aKz.aKx {
  background: linear-gradient(90deg, rgba(240, 98, 146, 0.50), rgba(255, 167, 38, 0.45)) !important;
  border: 1px solid rgba(255, 255, 255, 0.26) !important;
}

/* ===========================
   Scrollbars
   =========================== */
::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 6px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.20);
  border-radius: 6px;
  border: 2px solid transparent;
  background-clip: padding-box;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.28);
  background-clip: padding-box;
}

/* ===========================
   Animations
   =========================== */
@keyframes glassShimmer {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}

.T-I.T-I-KE.L3::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.22), transparent);
  background-size: 200% 100%;
  animation: glassShimmer 3s infinite;
  border-radius: var(--border-radius);
  pointer-events: none;
}

/* ===========================
   Dark Mode Support
   =========================== */
@media (prefers-color-scheme: dark) {
  :root {
    --glass-bg: rgba(0, 0, 0, 0.28);
    --glass-bg-hover: rgba(0, 0, 0, 0.36);
    --glass-border: rgba(255, 255, 255, 0.14);
    --glass-shadow: 0 18px 60px rgba(0, 0, 0, 0.44);
  }

  html,
  body {
    background:
      radial-gradient(1200px 800px at 12% 18%, rgba(240, 98, 146, 0.18), transparent 60%),
      radial-gradient(1200px 800px at 82% 20%, rgba(100, 181, 246, 0.16), transparent 58%),
      radial-gradient(1200px 800px at 35% 92%, rgba(129, 199, 132, 0.14), transparent 62%),
      radial-gradient(900px 700px at 88% 80%, rgba(255, 167, 38, 0.12), transparent 62%),
      conic-gradient(from 210deg at 50% 50%, rgba(170, 140, 204, 0.10), rgba(100, 181, 246, 0.08), rgba(240, 98, 146, 0.08), rgba(255, 167, 38, 0.08), rgba(129, 199, 132, 0.08), rgba(170, 140, 204, 0.10)) !important;
    background-attachment: fixed !important;
  }
}

/* ===========================
   Accessibility
   =========================== */
*:focus-visible {
  outline: 2px solid rgba(100, 181, 246, 0.9) !important;
  outline-offset: 2px !important;
}

@media (prefers-reduced-motion: reduce) {
  * { animation: none !important; transition: none !important; }
  html, body { animation: none !important; }
}
